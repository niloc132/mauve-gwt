dnl Process this with autoconf to create configure
AC_INIT(gnu/testlet/Testlet.java)
AM_INIT_AUTOMAKE(mauve, 0.0)

dnl See if the user prefers to build .class files with gcj, or whether
dnl javac will be used.
AC_ARG_ENABLE(gcj-classes,
[  --enable-gcj-classes             Use gcj, not javac, to build class files],
  JAVAC='$(GCJ) -C')

JAVA=${JAVA-java}
AC_SUBST(JAVA)
JAVAC=${JAVAC-javac}
AC_SUBST(JAVAC)
GCJ=${GCJ-gcj}
AC_SUBST(GCJ)

AC_ARG_WITH(gcj,
[  --with-gcj                       Use gcj to compile .class files])
AM_CONDITIONAL(USE_GCJ, test "$with_gcj" = yes)

AC_PROG_INSTALL

AC_SUBST(SHELL)

SRCDIR=`(cd $srcdir; pwd)`
AC_SUBST(SRCDIR)

dnl Specify the tempdir.
AC_ARG_WITH(tmpdir,
[  --with-tmpdir                    Use gcj, not javac, to build class files],
TMPDIR="$with_tmpdir")

TMPDIR=${TMPDIR-/tmp}
AC_SUBST(TMPDIR)

if test ! -d gnu; then
  mkdir gnu
fi
if test ! -d gnu/testlet; then
  mkdir gnu/testlet
fi

AC_OUTPUT(Makefile gnu/testlet/config.java)
